\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{paper_style}[2024/01/01 Paper2Data Academic Style]

% Required packages
\RequirePackage{amsmath}
\RequirePackage{amsfonts}
\RequirePackage{amssymb}
\RequirePackage{graphicx}
\RequirePackage{xcolor}
\RequirePackage{booktabs}
\RequirePackage{array}
\RequirePackage{longtable}
\RequirePackage{float}
\RequirePackage{caption}
\RequirePackage{subcaption}
\RequirePackage{enumitem}
\RequirePackage{fancyhdr}
\RequirePackage{titlesec}
\RequirePackage{tocloft}

% Color definitions
\definecolor{primaryblue}{RGB}{52, 152, 219}
\definecolor{darkgray}{RGB}{52, 73, 94}
\definecolor{lightgray}{RGB}{236, 240, 241}
\definecolor{accentorange}{RGB}{230, 126, 34}

% Section formatting
\titleformat{\section}
  {\Large\bfseries\color{primaryblue}}
  {\thesection}
  {1em}
  {}
  [\titlerule]

\titleformat{\subsection}
  {\large\bfseries\color{darkgray}}
  {\thesubsection}
  {1em}
  {}

\titleformat{\subsubsection}
  {\normalsize\bfseries\color{darkgray}}
  {\thesubsubsection}
  {1em}
  {}

% Table of contents formatting
\renewcommand{\cftsecleader}{\cftdotfill{\cftdotsep}}
\renewcommand{\cftsecfont}{\bfseries}
\renewcommand{\cftsecpagefont}{\bfseries}

% Figure and table captions
\captionsetup{
    format=hang,
    font=small,
    labelfont={bf,color=primaryblue},
    textfont=it,
    justification=centering,
    singlelinecheck=false
}

% Custom environments for academic papers
\newenvironment{paperabstract}
{%
    \begin{center}
        \textbf{\Large\color{primaryblue} Abstract}
    \end{center}
    \vspace{10pt}
    \begin{quotation}
    \noindent
    \itshape
}{%
    \end{quotation}
    \vspace{20pt}
}

\newenvironment{keywords}
{%
    \noindent\textbf{\color{primaryblue} Keywords:} 
}{%
    \vspace{10pt}
}

% Custom commands for academic formatting
\newcommand{\authorname}[1]{\textbf{#1}}
\newcommand{\affiliation}[1]{\textit{#1}}
\newcommand{\email}[1]{\texttt{#1}}

% Enhanced table environment
\newenvironment{academictable}[1][]
{%
    \begin{table}[htbp]
    \centering
    \rowcolors{2}{lightgray}{white}
    \begin{tabular}{#1}
    \toprule
}{%
    \bottomrule
    \end{tabular}
    \end{table}
}

% Enhanced figure environment
\newenvironment{academicfigure}[1][]
{%
    \begin{figure}[htbp]
    \centering
}{%
    \end{figure}
}

% Code listing environment
\newenvironment{codelist}
{%
    \begin{quote}
    \ttfamily
    \footnotesize
}{%
    \end{quote}
}

% Theorem-like environments
\newtheorem{theorem}{Theorem}[section]
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{example}[theorem]{Example}
\newtheorem{remark}[theorem]{Remark}

% Enhanced equation formatting
\renewcommand{\theequation}{\arabic{section}.\arabic{equation}}

% Bibliography formatting
\bibliographystyle{plain}
\renewcommand{\refname}{\color{primaryblue} References}

% Header and footer setup
\pagestyle{fancy}
\fancyhf{}
\fancyhead[L]{\color{darkgray}\footnotesize\leftmark}
\fancyhead[R]{\color{darkgray}\footnotesize\thepage}
\fancyfoot[C]{\color{darkgray}\footnotesize Generated by Paper2Data v1.1}
\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0.4pt}

% List formatting
\setlist[enumerate]{leftmargin=*,topsep=6pt,itemsep=3pt}
\setlist[itemize]{leftmargin=*,topsep=6pt,itemsep=3pt}

% Spacing adjustments
\setlength{\parindent}{0pt}
\setlength{\parskip}{6pt plus 2pt minus 1pt}
\setlength{\baselineskip}{14pt}

% Float placement
\renewcommand{\topfraction}{0.9}
\renewcommand{\bottomfraction}{0.8}
\setcounter{topnumber}{2}
\setcounter{bottomnumber}{2}
\setcounter{totalnumber}{4}
\setcounter{dbltopnumber}{2}
\renewcommand{\dbltopfraction}{0.9}
\renewcommand{\textfraction}{0.07}
\renewcommand{\floatpagefraction}{0.7}
\renewcommand{\dblfloatpagefraction}{0.7}

% Custom title page
\renewcommand{\maketitle}{%
    \begin{titlepage}
        \centering
        \vspace*{1cm}
        
        {\Huge\bfseries\color{primaryblue} \@title \par}
        \vspace{1.5cm}
        
        {\Large\color{darkgray} \@author \par}
        \vspace{1cm}
        
        {\large\color{darkgray} \@date \par}
        
        \vfill
        
        \begin{center}
            \includegraphics[width=0.3\textwidth]{paper2data-logo.png}
        \end{center}
        
        \vspace{1cm}
        
        {\large\color{darkgray} Generated by Paper2Data v1.1 \par}
        
        \vfill
    \end{titlepage}
    \clearpage
}

% End of style file
\endinput 